<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download to FileSystem demo</title>
    <link rel="stylesheet" href="./index.css"/>
</head>
<body>
    <h1>Download to <a href="https://fs.spec.whatwg.org/" target="_blank">FileSystem</a> demo</h1>
    <form>
        <div class="form-group">
            <label for="url">URL</label>
            <input type="url" name="url"/>
        </div>
        <div class="form-group">
            <fieldset>
                <legend>Download strategy</legend>

                <label>
                    <input type="radio" name="downloadStrategy" value="download" id="download" checked="true"/>
                    <span>Download</span>
                </label>
                <label>
                    <input type="radio" name="downloadStrategy" value="showSaveFilePicker" id="showSaveFilePicker"/>
                    <span>showSaveFilePicker</span>
                    <span class="small">(fallback to "Download" strategy when not supported by browser)</span>
                </label>

                <label>
                    <input type="checkbox" name="preferServiceWorker" checked="true"/>
                    <span>Prefer download through service worker using MessageChannel</span><br/>
                    <span class="small">When checked: Write Response stream to Service Worker through MessageChannel, open sw-intercepted URL in IFRAME</span><br/>
                    <span class="small">When unchecked: Write to Blob, trigger link with ObjectURL click - loads to memory before disk</span>
                </label>
            </fieldset>
        </div>
        <button>Download!</button>
    </form>
</body>
</html>
